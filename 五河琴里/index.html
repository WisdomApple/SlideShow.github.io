<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>今天很开心，谢谢你，欧尼酱~</title>
    <link rel="icon" href="./image/ax.png" type="image/x-icon" />
    <link rel="stylesheet" href="./css/iconfont.css">
    <link rel="stylesheet" href="./css/t.css">
</head>

<body>
    <canvas id="c">
    </canvas>
    <div class="snowback">
        <div class="ziti" id="ziti">
            <span id="world"></span>
        </div>
        <div class="main">
            <div class="box">
                <ul class="zhoxian1">
                    <li class="small idv1"><img src="./image/img/1.webp" alt=""></li>
                    <li class="small idv2"><img src="./image/img/2.webp" alt=""></li>
                    <li class="small idv3"><img src="./image/img/3.webp" alt=""></li>
                    <li class="small idv4"><img src="./image/img/4.webp" alt=""></li>
                    <li class="small idv5"><img src="./image/img/5.webp" alt=""></li>
                    <li class="small idv6"><img src="./image/img/6.webp" alt=""></li>
                </ul>
            </div>
            <div class="box-biger">
                <ul class="zhoxian2">
                    <li class="biger idv7"><img src="./image/img/1.webp" alt=""></li>
                    <li class="biger idv2"><img src="./image/img/2.webp" alt=""></li>
                    <li class="biger idv3"><img src="./image/img/3.webp" alt=""></li>
                    <li class="biger idv4"><img src="./image/img/4.webp" alt=""></li>
                    <li class="biger idv5"><img src="./image/img/5.webp" alt=""></li>
                    <li class="biger idv12"><img src="./image/img/6.webp" alt=""></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="btn btnonlond" onClick="biggen()">
        <img class="btnimg" src="./image/mypic.gif" alt="">
    
    <div class="hiddenbox">
        <div class="audiobox">
            <audio class="myaudio" src="./music/1.mp3" autoplay controls loop></audio>
        </div>
        <input type="text" placeholder="输入1，2，3切换">
        <div class="btn inpbtn" onClick="inpbtnc()">放这个</div>
    </div>
</div>



</body>
<script src="../jquery/jquery.min.js"></script>
<script src="../jquery/jquery-migrate.min.js"></script>
<script src="./js/TweenMax.js"></script>
<script src="./js/script.js"></script>
<script src="./js/snow.js"></script>
<script>
    var zhoxian = document.querySelector(".zhoxian1");
    var zhoxian2 = document.querySelector(".zhoxian2");
    var yesno = 1;
    setInterval(function xuanzhuan() {
        if (yesno > 2) {
            var ss = Math.random();
            if (ss < 0.5) {
                leftbut();
            } else {
                rigthtop();
            }
        } else {
            yesno++;
        }
    }, 500);


    var ysize1 = 0,
        xsize2 = 0;
    rigthtop()

    function rigthtop() {
        var suiji = Math.random();
        ysize1 += 1 * (suiji * 20).toFixed(0) + 20;
        xsize2 += 1 * (suiji * 10).toFixed(0) + 10;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }

    function leftbut() {
        var suiji1 = Math.random();
        ysize1 -= 1 * (suiji1 * 20).toFixed(0) + 20;
        xsize2 -= 1 * (suiji1 * 10).toFixed(0) + 10;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }

    function onlyleft() {
        var suiji1 = Math.random();
        ysize1 -= 1 * (suiji1 * 20).toFixed(0) + 20;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }

    function onlyright() {
        var suiji = Math.random();
        ysize1 += 1 * (suiji * 20).toFixed(0) + 20;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }

    function onlytop() {
        var suiji1 = Math.random();
        xsize2 -= 1 * (suiji1 * 10).toFixed(0) + 10;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }

    function onlybtn() {
        var suiji = Math.random();
        xsize2 += 1 * (suiji * 10).toFixed(0) + 10;
        var world = `rotateY(${ysize1}deg) rotateX(${xsize2}deg)`;
        zhoxian.style.transform = world;
        zhoxian2.style.transform = world;
        yesno = 0;
    }
    document.querySelector(".box-biger").onmousedown = function (evt) {
        var oevent = evt || event;
        var disx = oevent.clientX;
        var disy = oevent.clientY;
        document.onmousemove = function (evt) {
            var oevent = evt || event;
            evt.preventDefault();
            tuozhuaiX = oevent.clientX - disx + 'px';
            tuozhuaiY = oevent.clientY - disy + 'px';
        }
        document.onmouseup = function () {
            if (parseInt(tuozhuaiX) * parseInt(tuozhuaiX) > parseInt(tuozhuaiY) * parseInt(tuozhuaiY)) {
                if (tuozhuaiX[0] == '-') {
                    onlyleft();
                } else {
                    onlyright();
                }
            } else {
                if (tuozhuaiY[0] == '-') {
                    onlybtn();
                } else {
                    onlytop();
                }
            }
            document.onmousemove = null;
            document.onmouseup = null;
        }

    }
    var moustime = 0;
    document.getElementById("ziti").addEventListener("mouseenter", moveon);

    function moveon() {
        moustime++;
        setTimeout(function () {
            if (moustime == 1) {
                document.getElementById("world").innerHTML = "现在开始——我们的战争吧。";
                moveon();
            } else if (moustime == 2) {
                document.getElementById("world").innerHTML =
                    `<span class="iconfont icon-bqxin">八嘎欧尼酱······野兽的本性又要压制不住了么？。<span class="iconfont icon-bqxin">`;
                moveon();
            } else if (moustime == 5) {
                document.getElementById("world").innerHTML =
                    `<span class="iconfont icon-bqxin">唉······不可以撒娇了，真是拿你没办法<span class="iconfont icon-bqxin">`;
            } else {
                moveon();
            }
        }, 2000)
    }
    document.getElementById("ziti").addEventListener("mouseleave", function () {
        moustime = 0;
        document.getElementById("world").innerHTML =
            `<span class="iconfont icon-bqxin">別觸碰我，又不是發情期的猴子 <span class="iconfont icon-bqxin">`;
    });
</script>
<script>
    var myaudio = document.querySelector(".myaudio");
    var btnimg = document.querySelector(".btnimg");
    var inpbtn = document.querySelector(".inpbtn");
    var input = document.querySelector("input");
    var isgo = 0;

    function biggen() {
        if (isgo == 0) {
            myaudio.play();
            btnimg.src = "./image/img/6.webp";
            isgo = 1;
        } else {
            myaudio.pause();
            btnimg.src = "./image/mypic.gif";
            isgo = 0;
        }
    }
    function inpbtnc() {
        var name = input.value;
        if (name == "") {
            alert("请输入名称");
            return;
        }
        var musicname = `./music/${name}.mp3`;
        try {
            myaudio.src = musicname;
        } catch (err) {
            console.log(111);
            alert("请输入的名称不存在!");
        }
    }
</script>

</html>